<div class="wrapper" (contextmenu)="onRightClick($event)" (click)="hideAll($event)">
  <div class="top-panel">
    <gd-logo [logo]="'signature'" icon="{{isLeftBarOpen() ? 'times' : 'bars'}}" (click)="toggleLeftBar()"></gd-logo>
    <gd-top-toolbar class="toolbar-panel">
      <gd-button [icon]="'folder-open'" [tooltip]="'Browse files'" (click)="openModal(browseFilesModal)"
                 *ngIf="browseConfig"></gd-button>

      <gd-button [disabled]="formatDisabled" [icon]="'angle-double-left'" [tooltip]="'First Page'"
                 (click)="toFirstPage()" *ngIf="isDesktop && pageSelectorConfig"></gd-button>
      <gd-button [disabled]="formatDisabled" [icon]="'angle-left'" [tooltip]="'Previous Page'"
                 (click)="prevPage()" *ngIf="isDesktop && pageSelectorConfig"></gd-button>
      <div class="current-page-number" *ngIf="isDesktop">{{currentPage}}/{{countPages}}</div>
      <gd-button [disabled]="formatDisabled" [icon]="'angle-right'" [tooltip]="'Next Page'"
                 (click)="nextPage()" *ngIf="isDesktop && pageSelectorConfig"></gd-button>
      <gd-button [disabled]="formatDisabled" [icon]="'angle-double-right'" [tooltip]="'Last Page'"
                 (click)="toLastPage()" *ngIf="isDesktop && pageSelectorConfig"></gd-button>

      <gd-button [disabled]="formatDisabled" [icon]="'download'" [tooltip]="'Download'"
                 (click)="downloadFile()" *ngIf="downloadConfig"></gd-button>
      <gd-button [disabled]="formatDisabled" [icon]="'print'" [tooltip]="'Print'" (click)="printFile()"
                 *ngIf="printConfig"></gd-button>

    </gd-top-toolbar>
  </div>
  <gd-left-side-bar *ngIf="isDesktop || leftBarOpen">
    <div *ngFor="let signatureType of signatureTypes">
      <gd-signature-tab [disabled]="!file" *ngIf="getSignatureTypeConfig(signatureType.id)" [icon]="signatureType.icon"
                        [id]="signatureType.id" [tooltip]="signatureType.name" [rewrite]="rewriteConfig"
                        (newSignatureEvent)="newSign($event)">
      </gd-signature-tab>
    </div>
  </gd-left-side-bar>
  <div class="doc-panel" *ngIf="file">
    <gd-document (drop)="dropSignature($event)" (dragover)="dragOver($event)" class="gd-document" *ngIf="file"
                 [file]="file" [mode]="htmlModeConfig"
                 [preloadPageCount]="preloadPageCountConfig" gdRenderPrint [htmlMode]="htmlModeConfig"></gd-document>
  </div>
  <gd-hand-lightbox *ngIf="showNewHandSign" (opening)="showNewHandSign = $event"></gd-hand-lightbox>

  <gd-init-state [icon]="'signature'" [text]="''" *ngIf="!file"></gd-init-state>

  <gd-browse-files-modal (urlForUpload)="upload($event)" [files]="files" (selectedDirectory)="selectDir($event)"
                         (selectedFileGuid)="selectFile($event, null, browseFilesModal)"
                         [uploadConfig]="uploadConfig"></gd-browse-files-modal>

  <gd-error-modal></gd-error-modal>
  <gd-password-required></gd-password-required>
</div>
