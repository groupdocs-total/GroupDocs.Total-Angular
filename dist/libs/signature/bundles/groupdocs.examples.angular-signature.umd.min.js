!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@groupdocs.examples.angular/common-components"),require("@angular/common/http"),require("rxjs/operators"),require("rxjs"),require("jquery"),require("hammerjs"),require("@fortawesome/angular-fontawesome"),require("@fortawesome/fontawesome-svg-core"),require("@fortawesome/free-solid-svg-icons"),require("@fortawesome/free-regular-svg-icons"),require("ng-click-outside")):"function"==typeof define&&define.amd?define("@groupdocs.examples.angular/signature",["exports","@angular/core","@angular/common","@groupdocs.examples.angular/common-components","@angular/common/http","rxjs/operators","rxjs","jquery","hammerjs","@fortawesome/angular-fontawesome","@fortawesome/fontawesome-svg-core","@fortawesome/free-solid-svg-icons","@fortawesome/free-regular-svg-icons","ng-click-outside"],e):e(((t=t||self).groupdocs=t.groupdocs||{},t.groupdocs.examples=t.groupdocs.examples||{},t.groupdocs.examples.angular=t.groupdocs.examples.angular||{},t.groupdocs.examples.angular.signature={}),t.ng.core,t.ng.common,t.commonComponents,t.ng.common.http,t.rxjs.operators,t.rxjs,t.jquery,null,t.angularFontawesome,t.fontawesomeSvgCore,t.freeSolidSvgIcons,t.freeRegularSvgIcons,t.ngClickOutside)}(this,(function(t,e,i,n,o,r,a,s,p,c,d,g,l,u){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function f(t,e){function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function v(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}var b=function(){function t(t,e){this._http=t,this._config=e,this._observer=new a.Subject,this._refreshSignatures=this._observer.asObservable()}return Object.defineProperty(t.prototype,"getRefreshSignatures",{get:function(){return this._refreshSignatures},enumerable:!0,configurable:!0}),t.prototype.loadFiles=function(t){return this._http.post(this._config.getSignatureApiEndpoint()+n.Api.LOAD_FILE_TREE,{path:t},n.Api.httpOptionsJson)},t.prototype.loadFile=function(t){return this._http.post(this._config.getSignatureApiEndpoint()+n.Api.LOAD_DOCUMENT_DESCRIPTION,t,n.Api.httpOptionsJson)},t.prototype.upload=function(t,e,i,o){var r=new FormData;return r.append("file",t),r.append("rewrite",String(i)),o&&r.append("signatureType",o),e&&r.append("url",e),this._http.post(this._config.getSignatureApiEndpoint()+n.Api.UPLOAD_DOCUMENTS,r)},t.prototype.loadPage=function(t,e){return this._http.post(this._config.getSignatureApiEndpoint()+n.Api.LOAD_DOCUMENT_PAGE,{guid:t.guid,password:t.password,page:e},n.Api.httpOptionsJson)},t.prototype.getDownloadUrl=function(t){return this._config.getSignatureApiEndpoint()+n.Api.DOWNLOAD_DOCUMENTS+"/?path="+t.guid},t.prototype.loadPrint=function(t){return this._http.post(this._config.getSignatureApiEndpoint()+n.Api.LOAD_PRINT,{guid:t.guid,password:t.password},n.Api.httpOptionsJson)},t.prototype.loadPrintPdf=function(t){return this._http.post(this._config.getSignatureApiEndpoint()+n.Api.LOAD_PRINT_PDF,{guid:t.guid,password:t.password},n.Api.httpOptionsJsonResponseTypeBlob)},t.prototype.getSignatures=function(t,e){return this._http.post(this._config.getSignatureApiEndpoint()+n.Api.LOAD_FILE_TREE,{path:t,signatureType:e},n.Api.httpOptionsJson)},t.prototype.removeSignatures=function(t,e){return this._http.post(this._config.getSignatureApiEndpoint()+n.Api.DELETE_SIGNATURE_FILE,{guid:t,signatureType:e},n.Api.httpOptionsJson)},t.prototype.uploadSignature=function(t,e){if(t.fileList.length>1)for(var i=0;i<t.fileList.length-1;i++)this.upload(t.fileList.item(i),"",e,t.signType);return this.upload(t.fileList.item(t.fileList.length-1),"",e,t.signType)},t.prototype.getCode=function(t,e,i){return this._http.post(this._config.getSignatureApiEndpoint()+n.Api.SAVE_OPTICAL_CODE,{properties:{text:t,temp:e},signatureType:i},n.Api.httpOptionsJson)},t.prototype.loadSignatureImage=function(t){return this._http.post(this._config.getSignatureApiEndpoint()+n.Api.LOAD_SIGNATURE_IMAGE,{guid:t.guid,page:t.pageNumber,signatureType:t.type,password:""},n.Api.httpOptionsJson).pipe(r.map((function(e){return e.guid=t.guid,e})))},t.prototype.saveTextSignature=function(t){var e=t.props;return e.fontColor=n.Utils.toRgb(e.fontColor),this._http.post(this._config.getSignatureApiEndpoint()+n.Api.SAVE_TEXT,{properties:e},n.Api.httpOptionsJson).pipe(r.map((function(t){return t.fontColor=n.Utils.toHex(t.fontColor),t})))},t.prototype.saveImage=function(t){return this._http.post(this._config.getSignatureApiEndpoint()+n.Api.SAVE_IMAGE,{image:t},n.Api.httpOptionsJson)},t.prototype.saveStamp=function(t,e){var i,o;try{for(var r=v(e),a=r.next();!a.done;a=r.next()){var s=a.value;s.backgroundColor=n.Utils.toRgb(s.backgroundColor),s.strokeColor=n.Utils.toRgb(s.strokeColor),s.textColor=n.Utils.toRgb(s.textColor)}}catch(t){i={error:t}}finally{try{a&&!a.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}return this._http.post(this._config.getSignatureApiEndpoint()+n.Api.SAVE_STAMP,{image:t,stampData:e},n.Api.httpOptionsJson)},t.prototype.sign=function(t,e){var i=n.FileUtil.find(t.guid,!1).format;return this._http.post(this._config.getSignatureApiEndpoint()+n.Api.SIGN,{guid:t.guid,password:t.password?t.password:"",signaturesData:e,documentType:i},n.Api.httpOptionsJson)},t.prototype.downloadSigned=function(t,e){var i=n.FileUtil.find(t.guid,!1).format;return this._http.post(this._config.getSignatureApiEndpoint()+n.Api.DOWNLOAD_SIGNED,{guid:t.guid,password:t.password,signaturesData:e,documentType:i},n.Api.httpOptionsJsonResponseTypeBlob)},t.prototype.refreshSignatures=function(){this._observer.next()},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:o.HttpClient},{type:n.ConfigService}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(o.HttpClient),e.ɵɵinject(n.ConfigService))},token:t,providedIn:"root"}),t}();var m=function(){};var y=function(){function t(t,e){this._http=t,this._config=e,this._signatureConfig=new a.BehaviorSubject(new m),this._updatedConfig=this._signatureConfig.asObservable()}return Object.defineProperty(t.prototype,"updatedConfig",{get:function(){return this._updatedConfig},enumerable:!0,configurable:!0}),t.prototype.load=function(){var t=this;return new Promise((function(e,i){var o=t._config.getConfigEndpoint(n.Api.SIGNATURE_APP);t._http.get(o,n.Api.httpOptionsJson).toPromise().then((function(i){var n=i;t._signatureConfig.next(n),e()})).catch((function(t){i("Could not load signature config: "+JSON.stringify(t))}))}))},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:o.HttpClient},{type:n.ConfigService}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(o.HttpClient),e.ɵɵinject(n.ConfigService))},token:t,providedIn:"root"}),t}();var x=function(){function t(){}return t.getSignatureType=function(e){switch(e){case t.TEXT.id:return t.TEXT;case t.IMAGE.id:return t.IMAGE;case t.DIGITAL.id:return t.DIGITAL;case t.QR_CODE.id:return t.QR_CODE;case t.BAR_CODE.id:return t.BAR_CODE;case t.STAMP.id:return t.STAMP;case t.HAND.id:return t.HAND}},t.TEXT={id:"text",name:"Text signatures",icon:"font",title:""},t.IMAGE={id:"image",name:"Uploaded Images",icon:"image",title:"Add image signature"},t.QR_CODE={id:"qrCode",name:"QR codes",icon:"qrcode",title:"New QR code"},t.BAR_CODE={id:"barCode",name:"Bar codes",icon:"barcode",title:"New Bar code"},t.DIGITAL={id:"digital",name:"Digital signatures",icon:"fingerprint",title:"New digital signature"},t.STAMP={id:"stamp",name:"Stamps",icon:"stamp",title:""},t.HAND={id:"hand",name:"Signatures",icon:"signature",title:""},t}();var w=function(t,e){this.fileList=t,this.signType=e};var C=function(){function t(){}return t.TEMP="temp",t}();var S=function(t,e){this.left=t,this.top=e};var k=function(){function t(){}return t.map=function(e,i,n){var o=new t;return o.signatureType=i,o.pageNumber=e.number,o.left=n.left,o.top=n.top,o.signatureGuid=e.guid,o.imageWidth=e.width,o.imageHeight=e.height,e.digitalProps&&(o.reason=e.digitalProps.reason,o.contact=e.digitalProps.contact,o.address=e.digitalProps.address,o.signaturePassword=e.digitalProps.signaturePassword,o.date=e.digitalProps.date),o},t}();var _=function(){};var A=function(){this.height=0,this.width=0};var P=function(){function t(){}return t.getDefault=function(){var e=new t;e.text="";var i=n.Formatting.default();return e.fontColor=i.color,e.font=i.font,e.fontSize=i.fontSize,e.underline=i.underline,e.bold=i.bold,e.italic=i.italic,e},t}();var T=function(){};var D=function(){};var I=function(){};var O=function(){function t(){this.textExpansion=.173,this.textRepeat=1}return t.prototype.init=function(t){return this.text="",this.width=t?103:153,this.height=t?103:153,this.zIndex=10,this.backgroundColor="rgb(255, 255, 255)",this.strokeColor="rgb(51, 51, 51)",this.strokeWidth=1,this.fontSize=19,this.font="Arial",this.textColor="rgb(51, 51, 51)",this.radius=76.5,this.bold=!1,this.italic=!1,this.underline=!1,this},t}();var E=function(){function t(){}return t.widthOptions=function(){for(var t=[],e=1;e<=10;e++)t.push(this.widthOption(e));return t},t.widthOption=function(t){return{value:t,name:t+"px",separator:!1}},t}();!function(){function t(){}t.original="original",t.signed="signed"}();var M=function(){function t(){this._observer=new a.Subject,this._selectSignature=this._observer.asObservable()}return Object.defineProperty(t.prototype,"selectSignature",{get:function(){return this._selectSignature},enumerable:!0,configurable:!0}),t.prototype.select=function(t){this._observer.next(t)},t}();var z=function(){function t(){this._observer=new a.Subject,this._removeSignature=this._observer.asObservable()}return Object.defineProperty(t.prototype,"removeSignature",{get:function(){return this._removeSignature},enumerable:!0,configurable:!0}),t.prototype.remove=function(t){this._observer.next(t)},t}();var j=function(){function t(){this._observer=new a.Subject,this._activeChange=this._observer.asObservable()}return Object.defineProperty(t.prototype,"activeChange",{get:function(){return this._activeChange},enumerable:!0,configurable:!0}),t.prototype.changeActive=function(t){this._observer.next(t)},t}();var F=function(){function t(){this.map=new Map}return t.prototype.add=function(t){this.map.set(t,[])},t.prototype.addId=function(t,e){this.map.has(t)||this.add(t),this.map.get(t).push(e)},t.prototype.delete=function(t){this.map.delete(t)},t.prototype.has=function(t){return this.map.has(t)},t.prototype.clear=function(){this.map.clear()},t.prototype.values=function(){return this.map.values()},t.prototype.get=function(t){return this.map.get(t)},t.prototype.remove=function(t,e){var i,n,o=this.map.get(t);if(this.delete(t),1!==o.length){this.add(t);try{for(var r=v(o),a=r.next();!a.done;a=r.next()){var s=a.value;s!==e&&this.map.get(t).push(s)}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}}},t.prototype.changeTemp=function(t,e){this.remove(C.TEMP,e),this.addId(t,e)},t}();var R=function(){function t(){this._observer=new a.Subject,this._copySignature=this._observer.asObservable(),this._observerChanges=new a.Subject,this._changesSignature=this._observerChanges.asObservable()}return Object.defineProperty(t.prototype,"copySignature",{get:function(){return this._copySignature},enumerable:!0,configurable:!0}),t.prototype.copy=function(t){this._observer.next(t)},Object.defineProperty(t.prototype,"changesSignature",{get:function(){return this._changesSignature},enumerable:!0,configurable:!0}),t.prototype.notifyChanges=function(t){this._observerChanges.next(t)},t}();var N=s,$=function(){function t(t,e,i,n,o,s){var p=this;this._signatureService=t,this._removeSignatureService=e,this._copySignatureService=i,this._activeSignatureService=n,this._signaturesHolderService=o,this._zoomService=s,this.active=!0,this.unlock=!0,this.copied=!1,this.baseCopied=!1,this.subject=new a.Subject,this._activeSignatureService.activeChange.subscribe((function(t){p.id===t?p.active=!0:p.active=!1})),this.subject.pipe(r.debounceTime(300)).subscribe((function(t){p.notifyChanges(),p.sendSaveText()}))}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewChecked=function(){this._zoomService.changeZoom(this._zoomService.zoom)},t.prototype.getData=function(){return"data:image/png;base64,"+this.data.data},t.prototype.dragOver=function(t){t.preventDefault(),t.stopPropagation()},t.prototype.dragStart=function(t){t.preventDefault(),this.oldPosition=n.Utils.getMousePosition(t),t.dataTransfer&&t.dataTransfer.setData("text","foo")},t.prototype.dragging=function(t){t.preventDefault();var e=n.Utils.getMousePosition(t);if(e.x&&e.y&&this.isOnPage(e)){var i=e.x-this.oldPosition.x,o=e.y-this.oldPosition.y;this.position.left+=i,this.position.top+=o,this.correctPosition(),this.oldPosition=e}},t.prototype.isOnPage=function(t){var e=document.elementFromPoint(t.x,t.y);return e&&N(e).parent().parent()&&(N(e).parent().parent().parent().hasClass("page")||N(e).parent().parent().parent().parent().parent().hasClass("page"))},t.prototype.isText=function(){return x.TEXT.id===this.type},t.prototype.getFormatting=function(){var t=this.data.props,e=n.Formatting.default();return t&&(e.fontSize=t.fontSize,e.font=t.font,e.color=t.fontColor,e.bold=t.bold,e.underline=t.underline,e.italic=t.italic),e},t.prototype.saveTextSignature=function(t){this.data.props&&(this.fillFormatting(t),this.notifyChanges(),this.sendSaveText())},t.prototype.fillFormatting=function(t){this.data.props.fontSize=t.fontSize,this.data.props.font=t.font,this.data.props.bold=t.bold,this.data.props.italic=t.italic,this.data.props.underline=t.underline,this.data.props.fontColor=t.color},t.prototype.remove=function(){var t=new T;t.guid=this.data.guid,t.id=this.id,t.type=this.type,this._removeSignatureService.remove(t)},t.prototype.activation=function(){this._activeSignatureService.changeActive(this.id)},t.prototype.isDigital=function(){return this.type===x.DIGITAL.id},t.prototype.width=function(t){this.data.width+=t,this.unlock||(this.data.height+=t),this.correctPosition(),this.notifyChanges()},t.prototype.height=function(t){this.data.height+=t,this.unlock||(this.data.width+=t),this.correctPosition(),this.notifyChanges()},t.prototype.left=function(t){this.unlock&&(this.position.left+=t),this.correctPosition(),this.notifyChanges()},t.prototype.top=function(t){this.unlock&&(this.position.top+=t),this.correctPosition(),this.notifyChanges()},t.prototype.notifyChanges=function(){var t=new I;t.guid=this.data.guid,t.id=this.id,t.position=this.position,t.width=this.data.width,t.height=this.data.height,t.props=this.data.props,this._copySignatureService.notifyChanges(t)},t.prototype.drop=function(t){t.stopPropagation(),t.preventDefault()},t.prototype.isInit=function(){return 0===this.data.width&&0===this.data.height},t.prototype.onCopySign=function(){var t=new D;t.guid=this.data.guid,t.id=this.id,t.type=this.type,this._copySignatureService.copy(t)},t.prototype.ngAfterViewInit=function(){this.type===x.TEXT.id&&setTimeout((function(){var t=N("#text");t&&t.focus()}),100)},t.prototype.correctPosition=function(){this.position.left<0&&(this.position.left=0),this.position.top<0&&(this.position.top=0),this.position.top+this.data.height>this.pageHeight&&(this.position.top=this.pageHeight-this.data.height),this.position.left+this.data.width>this.pageWidth&&(this.position.left=this.pageWidth-this.data.width)},t.prototype.saveText=function(t){this.data.props.text=t,this.subject.next(t)},t.prototype.sendSaveText=function(){var t=this;this._signatureService.saveTextSignature(this.data).subscribe((function(e){C.TEMP===t.data.guid&&(t._signaturesHolderService.changeTemp(e.imageGuid,t.id),t.data.guid=e.imageGuid),t.data.props=e}))},t.prototype.hideMenu=function(t){this._activeSignatureService.changeActive(null)},t.prototype.getMenuShift=function(){var t=this.type===x.TEXT.id?426:148,e=this.data.width>t?0:.5*(this.data.width-t);return this.position.left-(t-this.data.width)/2<0&&(e-=this.position.left-(t-this.data.width)/2),this.position.left+(t+this.data.width)/2>this.pageWidth&&(e-=this.position.left+(t+this.data.width)/2-this.pageWidth),e},t.prototype.getMenuType=function(){return n.MenuType.FOR_SIGNATURE},t.decorators=[{type:e.Component,args:[{selector:"gd-signature-component",template:'<div class="gd-signature" *ngIf="!isDigital()"\n     (clickOutside)="hideMenu($event)"\n     [exclude]="\'gd-context-menu,.ui-resizable-handle\'"\n     [excludeBeforeClick]="true"\n     [clickOutsideEvents]="\'mousedown\'"\n     [clickOutsideEnabled]="active"\n     [style.left.px]="position.left" [style.top.px]="position.top"\n     [style.width.px]="data.width ? data.width : undefined"\n     [style.height.px]="data.height ? data.height : undefined" (click)="activation()">\n  <div [draggable]="true" (dragover)="dragOver($event)" (dragstart)="dragStart($event)"\n       (drag)="dragging($event)" (dragend)="dragging($event)" (drop)="drop($event)"\n       (panstart)="dragStart($event)" (panmove)="dragging($event)"\n       class="gd-signature-wrapper">\n    <gd-context-menu *ngIf="active" [topPosition]="position.top" [textMenu]="isText()" [formatting]="getFormatting()"\n                     (changeFormatting)="saveTextSignature($event)" (removeItem)="remove()" (copySign)="onCopySign()"\n                     [lock]="!unlock" (lockOut)="unlock = !$event" [translation]="getMenuShift()"\n                     [menuType]="getMenuType()"></gd-context-menu>\n    <img class="gd-signature-image" *ngIf="!isText()" [attr.src]="getData()" alt>\n    <textarea class="gd-text" *ngIf="isText()" [value]="data.props?.text"\n              id="text" #text (keyup)="saveText(text.value)"\n              [style.text-decoration]="data.props?.underline ? \'underline\' : \'unset\'"\n              [style.font-style]="data.props?.italic ? \'italic\' : \'unset\'"\n              [style.font-weight]="data.props?.bold ? \'bold\' : \'unset\'"\n              [style.color]="data.props?.fontColor"\n              [style.font-family]="data?.props.font"\n              [style.font-size.px]="data?.props.fontSize"\n              [style.width.px]="data.width ? data.width : undefined"\n              [style.height.px]="data.height ? data.height : undefined"></textarea>\n  </div>\n  <gd-resizing [id]="id" *ngIf="active" [init]="isInit()"\n               (offsetX)="width($event)" (offsetY)="height($event)"\n               (offsetTop)="top($event)" (offsetLeft)="left($event)"\n               [se]="true" [sw]="unlock" [ne]="unlock" [nw]="unlock"\n               [pageHeight]="pageHeight" [pageWidth]="pageWidth"></gd-resizing>\n</div>\n<div class="gd-digital-marker" *ngIf="isDigital()">\n  <fa-icon [icon]="[\'fas\',\'info-circle\']" [class]="\'ng-fa-icon icon\'"></fa-icon>\n  <div>Digitally signed : {{data.digitalProps.contact ? data.digitalProps.contact : data.digitalProps.reason}}</div>\n  <fa-icon [icon]="[\'fas\',\'times\']" [class]="\'ng-fa-icon icon\'" (click)="remove()"></fa-icon>\n</div>\n',styles:[".gd-signature{position:absolute!important}.gd-signature .gd-signature-wrapper{height:inherit;outline:#679ffa solid 1px}.gd-signature-image{width:100%!important;height:inherit}.gd-text{width:inherit;height:inherit;border:none;resize:none;outline:0;margin:0;padding:0}.gd-digital-marker{background-color:#3787f5;height:16px;width:100%;text-align:left;display:-webkit-box;display:flex;position:absolute;bottom:0}.gd-digital-marker .icon{color:#fff;font-size:10px;margin:0 5px 0 3px}.gd-digital-marker div{-webkit-box-flex:1;flex-grow:1;font-size:8px;color:#fff;margin-top:1px}"]}]}],t.ctorParameters=function(){return[{type:b},{type:z},{type:R},{type:j},{type:F},{type:n.ZoomService}]},t.propDecorators={id:[{type:e.Input}],data:[{type:e.Input}],position:[{type:e.Input}],type:[{type:e.Input}],pageWidth:[{type:e.Input}],pageHeight:[{type:e.Input}]},t}();var L=function(){};var H=s,U=function(){function t(t,e,i,o,r,a,s,p,c,d,g,l,u,h,f,b,m,y,w,C,S,k){var _=this;this._signatureService=t,this._modalService=e,this._navigateService=r,this._zoomService=a,this._renderPrintService=p,this._windowService=d,this._selectSignatureService=g,this._signatureTabActivationService=l,this._hostingComponentsService=u,this._addDynamicComponentService=h,this._dragSignatureService=f,this._onCloseService=b,this._activeSignatureService=y,this._excMessageService=w,this._signaturesHolderService=C,this._tabActivatorService=S,this.title="signature",this.files=[],this.countPages=0,this.formatDisabled=!this.file,this.browseFilesModal=n.CommonModals.BrowseFiles,this.signatureTypes=[x.TEXT,x.IMAGE,x.DIGITAL,x.QR_CODE,x.BAR_CODE,x.STAMP,x.HAND],this.signatureTypeCodes=[x.QR_CODE,x.BAR_CODE],this.signatureComponents=new Map,this.fileWasDropped=!1,this._zoom=100,this._tabActivatorService.activeTabChange.subscribe((function(t){"1"===t&&(_.activeSignatureTab&&_._signatureTabActivationService.changeActiveTab(_.activeSignatureTab),_.activeSignatureTab=null)})),this.isDesktop=d.isDesktop(),d.onResize.subscribe((function(t){_.isDesktop=d.isDesktop(),_.isDesktop||_.refreshZoom()})),k.copySignature.subscribe((function(t){var e,i,n=_.signatureComponents.get(t.id);if(n){var o=n.instance,r=o.data.number;o.baseCopied=!0;try{for(var a=v(_.file.pages),s=a.next();!s.done;s=a.next()){var p=s.value;if(p.number!==r){var c=_.createDraggableSign(o,t,p),d=_.createAddedSignature(t,o,p),g=_.addSignatureComponent(d,c,p,!0);_._signaturesHolderService.addId(c.guid,g)}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}}})),k.changesSignature.subscribe((function(t){var e,i;if(_.signatureComponents.get(t.id)){var n=_._signaturesHolderService.get(t.guid);try{for(var o=v(n),r=o.next();!r.done;r=o.next()){var a=r.value,s=_.signatureComponents.get(a);if(s){var p=s.instance;p.id!==t.id&&(p.copied||p.baseCopied)&&(p.data.width=t.width,p.data.height=t.height,p.data.position=t.position,p.data.props=t.props)}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}}})),m.removeSignature.subscribe((function(t){var e,i,n=_._signaturesHolderService.get(t.guid);try{for(var o=v(n),r=o.next();!r.done;r=o.next()){var a=r.value;if(t.type===x.DIGITAL.id||t.id===a){var s=_.signatureComponents.get(a);s&&s.destroy(),_.signatureComponents.delete(a),_._signaturesHolderService.remove(t.guid,a)}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}})),i.updatedConfig.subscribe((function(t){_.signatureConfig=t})),o.uploadsChange.subscribe((function(t){if(t){var e=void 0;for(e=0;e<t.length;e++)_._signatureService.upload(t.item(e),"",_.rewriteConfig,null).subscribe((function(t){_.fileWasDropped?_.selectFile(t.guid,"",""):_.selectDir("")}))}})),s.checkPreload.subscribe((function(t){if(0!==_.preloadPageCountConfig)for(var e=t;e<t+2;e++)e>0&&e<=_.countPages&&!_.file.pages[e-1].data&&_.preloadPages(e,e)})),c.passChange.subscribe((function(t){_.selectFile(_.credentials.guid,t,n.CommonModals.PasswordRequired)})),g.selectSignature.subscribe((function(t){_.selectSignature(t)})),this.isDesktop=d.isDesktop(),d.onResize.subscribe((function(t){_.isDesktop=d.isDesktop()}))}return t.prototype.createDraggableSign=function(t,e,i){var n=new C;return n.type=t.type,n.guid=e.guid,n.position=t.position,n.pageNumber=i.number,n},t.prototype.createAddedSignature=function(t,e,i){var n=new A;return n.guid=t.guid,n.data=e.data.data,e.data.props&&(n.props=e.data.props),n.width=e.data.width,n.height=e.data.height,n.number=i.number,n},t.prototype.ngOnInit=function(){this.defaultDocumentConfig()&&(this.isLoading=!0,this.selectFile(this.defaultDocumentConfig(),"",""))},t.prototype.ptToPx=function(t){return 96*t/72},t.prototype.getFitToWidth=function(){var t=this.ptToPx(this._pageWidth),e=this.ptToPx(this._pageHeight),i=t||window.innerWidth;return e>t&&Math.round(i/window.innerWidth)<2?200-Math.round(100*i/window.innerWidth):Math.round(100*window.innerWidth/i)},Object.defineProperty(t.prototype,"zoom",{get:function(){return this._zoom},set:function(t){this._zoom=t,this._zoomService.changeZoom(this._zoom)},enumerable:!0,configurable:!0}),t.prototype.refreshZoom=function(){this.zoom=this._windowService.isDesktop()?100:this.getFitToWidth()},t.prototype.zoomIn=function(){this.formatDisabled||this._zoom<490&&(this.zoom=this._zoom+10)},t.prototype.zoomOut=function(){this.formatDisabled||this._zoom>30&&(this.zoom=this._zoom-10)},Object.defineProperty(t.prototype,"rewriteConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.rewrite},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.zoom},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageSelectorConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.pageSelector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preloadPageCountConfig",{get:function(){return this.signatureConfig?this.signatureConfig.preloadPageCount:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"downloadConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.download},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"downloadOriginalConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.downloadOriginal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"downloadSingedConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.downloadSigned},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uploadConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.upload},enumerable:!0,configurable:!0}),t.prototype.defaultDocumentConfig=function(){return this.signatureConfig?this.signatureConfig.defaultDocument:""},Object.defineProperty(t.prototype,"printConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.print},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"browseConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.browse},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"htmlModeConfig",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enableRightClickConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.enableRightClick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textSignatureConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.textSignature},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageSignatureConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.imageSignature},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"digitalSignatureConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.digitalSignature},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qrCodeSignatureConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.qrCodeSignature},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barCodeSignatureConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.barCodeSignature},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stampSignatureConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.stampSignature},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handSignatureConfig",{get:function(){return!this.signatureConfig||this.signatureConfig.handSignature},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentPage",{get:function(){return this._navigateService.currentPage},enumerable:!0,configurable:!0}),t.prototype.openModal=function(t){this._modalService.open(t)},t.prototype.closeModal=function(t){this._modalService.close(t)},t.prototype.selectDir=function(t){var e=this;this._signatureService.loadFiles(t).subscribe((function(t){return e.files=t||[]}))},t.prototype.selectFile=function(t,e,i){var n=this;this.credentials={guid:t,password:e},this.file=null,this._signatureService.loadFile(this.credentials).subscribe((function(t){if(n.file=t,n.formatDisabled=!n.file,t){!n.isDesktop&&t.pages&&t.pages[0]&&(n._pageHeight=t.pages[0].height,n._pageWidth=t.pages[0].width,n.refreshZoom());var e=n.preloadPageCountConfig,i=t.pages?t.pages.length:0;e>0&&n.preloadPages(1,e>i?i:e),n._navigateService.countPages=i,n._navigateService.currentPage=1,n.countPages=i,n.cleanSignatures()}})),i&&this._modalService.close(i),this.clearData()},t.prototype.preloadPages=function(t,e){for(var i=this,n=function(t){o._signatureService.loadPage(o.credentials,t).subscribe((function(e){i.file.pages[t-1]=e}))},o=this,r=t;r<=e;r++)n(r)},t.prototype.upload=function(t){var e=this;this._signatureService.upload(null,t,this.rewriteConfig,null).subscribe((function(){e.selectDir("")}))},t.prototype.downloadFile=function(){this.formatDisabled||window.location.assign(this._signatureService.getDownloadUrl(this.credentials))},t.prototype.clearData=function(){var t,e;if(this.file&&this.file.pages)try{for(var i=v(this.file.pages),n=i.next();!n.done;n=i.next()){n.value.data=null}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.onRightClick=function(t){return this.enableRightClickConfig},t.prototype.getSignatureTypeConfig=function(t){switch(t){case x.TEXT.id:return this.textSignatureConfig;case x.IMAGE.id:return this.imageSignatureConfig;case x.DIGITAL.id:return this.digitalSignatureConfig;case x.QR_CODE.id:return this.qrCodeSignatureConfig;case x.BAR_CODE.id:return this.barCodeSignatureConfig;case x.STAMP.id:return this.stampSignatureConfig;case x.HAND.id:return this.handSignatureConfig}},t.prototype.dragOver=function(t){t.preventDefault(),t.stopPropagation()},t.prototype.dropSignature=function(t){t.preventDefault(),t.stopPropagation();var e=n.Utils.getMousePosition(t),i=document.elementFromPoint(e.x,e.y);if(i&&H(i).parent().parent()&&H(i).parent().parent().parent().hasClass("page")){var o=H(i).parent().parent()[0],r=(e.x-H(o).offset().left)/(this.zoom/100),a=(e.y-H(o).offset().top)/(this.zoom/100),s=new S(r,a),p=this._dragSignatureService.sign;if(p){var c=H(i).parent().attr("id");if(c){var d=c.split("-");p.pageNumber=2===d.length?parseInt(d[1],10):p.pageNumber}p.position=s,this.selectSignature(p),this._dragSignatureService.sign=null}}},t.prototype.selectSignature=function(t){var e,i,n=this;if(t.type===x.DIGITAL.id){var o=new A;o.digitalProps=t.digitalProps,o.guid=t.guid,o.number=t.pageNumber;try{for(var r=v(this.file.pages),a=r.next();!a.done;a=r.next()){var s=a.value,p=this.addSignatureComponent(o,t,s);this._signaturesHolderService.addId(t.guid,p)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}this.closeTab(t.type)}else this._signatureService.loadSignatureImage(t).subscribe((function(e){e.number=t.pageNumber;var i=n.file.pages.find((function(e){return e.number===t.pageNumber})),o=n.addSignatureComponent(e,t,i);n._signaturesHolderService.addId(t.guid,o),n.closeTab(t.type)}))},t.prototype.addSignatureComponent=function(t,e,i,n){void 0===n&&(n=!1);var o=this._hostingComponentsService.find(i.number);if(o){for(var r=o.viewContainerRef,a=this._addDynamicComponentService.addDynamicComponent(r,$),s=this.getNextId();t.width>=i.width||t.height>=i.height;)t.width=t.width/2,t.height=t.height/2;return a.instance.id=s,a.instance.copied=n,a.instance.data=t,a.instance.position=e.position,a.instance.type=e.type,a.instance.pageWidth=i.width,a.instance.pageHeight=i.height,this.signatureComponents.set(s,a),this._activeSignatureService.changeActive(s),s}return null},t.prototype.getNextId=function(){var t,e,i=0;try{for(var n=v(this.signatureComponents.keys()),o=n.next();!o.done;o=n.next()){var r=o.value;r>i&&(i=r)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return i+1},t.prototype.closeTab=function(t){this._signatureTabActivationService.changeActiveTab(t)},t.prototype.hideAll=function(t){t.target.parentElement&&t.target.parentElement.attributes.name&&"button"===t.target.parentElement.attributes.name.value||t.target.parentElement&&t.target.parentElement.parentElement&&t.target.parentElement.parentElement.attributes.name&&"button"===t.target.parentElement.parentElement.attributes.name.value||t.target.parentElement&&t.target.parentElement.parentElement&&t.target.parentElement.parentElement.parentElement&&t.target.parentElement.parentElement.parentElement.parentElement&&t.target.parentElement.parentElement.parentElement.parentElement.attributes.name&&"button"===t.target.parentElement.parentElement.parentElement.parentElement.attributes.name.value||this._onCloseService.close(!0)},t.prototype.newSign=function(t){x.HAND.id===t?this._modalService.open(n.CommonModals.DrawHandSignature):x.STAMP.id===t?this._modalService.open(n.CommonModals.DrawStampSignature):x.TEXT.id===t&&(this.addTextSign(),this._signatureTabActivationService.changeActiveTab(x.TEXT.id))},t.prototype.addTextSign=function(){var t=new A;t.props=P.getDefault(),t.guid=C.TEMP;var e=new C;e.guid=C.TEMP,e.position=new S(0,0),e.type=x.TEXT.id;var i=this._navigateService.currentPage;t.number=i,e.pageNumber=i;var n=this.file.pages.find((function(t){return t.number===i})),o=this.addSignatureComponent(t,e,n);this._signaturesHolderService.addId(e.guid,o)},t.prototype.ngOnDestroy=function(){this.cleanSignatures()},t.prototype.cleanSignatures=function(){var t,e;try{for(var i=v(this.signatureComponents.values()),n=i.next();!n.done;n=i.next()){n.value.destroy()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.signatureComponents=new Map,this._signaturesHolderService.clear()},t.prototype.sign=function(){var t=this,e=this.prepareSignaturesData();this._signatureService.sign(this.credentials,e).subscribe((function(e){t._modalService.open(n.CommonModals.OperationSuccess),t.selectFile(e.guid,null,n.CommonModals.OperationSuccess)}))},t.prototype.prepareSignaturesData=function(){var t,e,i,n,o=[];try{for(var r=v(this._signaturesHolderService.values()),a=r.next();!a.done;a=r.next()){var s=a.value;try{for(var p=v(s),c=p.next();!c.done;c=p.next()){var d=c.value,g=this.signatureComponents.get(d).instance,l=g.data,u=g.position,h=g.type;if(C.TEMP!==l.guid&&o.push(k.map(l,h,u)),x.DIGITAL.id===h)break}}catch(t){i={error:t}}finally{try{c&&!c.done&&(n=p.return)&&n.call(p)}finally{if(i)throw i.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return o},t.prototype.isPdf=function(){return!(!this.file||"Portable Document Format"!==n.FileUtil.find(this.file.guid,!1).format)},t.prototype.codesConfig=function(){return this.getSignatureTypeConfig(x.BAR_CODE.id)||this.getSignatureTypeConfig(x.QR_CODE.id)},t.prototype.isVisible=function(t){var e=t!==x.BAR_CODE.id&&t!==x.QR_CODE.id;return this.getSignatureTypeConfig(t)&&(this.isDesktop||e)},t.prototype.activeTab=function(t){this.activeSignatureTab=t},t.prototype.fileDropped=function(t){this.fileWasDropped=t},t.prototype.isFirstTab=function(t){return t.id===x.TEXT.id||!this.isDesktop&&t.id===x.QR_CODE.id?-1:t.id===x.HAND.id||!this.isDesktop&&t.id===x.BAR_CODE.id?1:0},t.prototype.onPan=function(t){this._zoomService.changeZoom(this._zoom)},t.decorators=[{type:e.Component,args:[{selector:"gd-signature",template:'<gd-loading-mask [loadingMask]="isLoading"></gd-loading-mask>\n<div class="wrapper" (contextmenu)="onRightClick($event)" (click)="hideAll($event)">\n  <div class="signature-wrapper wrapper">\n    <gd-tabbed-toolbars [logo]="\'signature\'" [icon]="\'pen-square\'">\n      <gd-tabs>\n        <gd-tab [tabTitle]="\'File\'" [icon]="\'folder-open\'" [id]="\'1\'" [active]="true">\n          <div id="files-tools" class="toolbar-panel">\n            <gd-button [icon]="\'folder-open\'" [tooltip]="\'Browse files\'" (click)="openModal(browseFilesModal)"\n                       *ngIf="browseConfig" [elementPosition]="-1"></gd-button>\n\n            <gd-button [disabled]="formatDisabled" [icon]="\'download\'" [tooltip]="\'Download\'"\n                       (click)="downloadFile()" *ngIf="downloadConfig"></gd-button>\n            <gd-button [disabled]="formatDisabled" [icon]="\'save\'" [tooltip]="\'Save\'" (click)="sign()"></gd-button>\n            <gd-button class="desktop-hide" [disabled]="formatDisabled" [icon]="\'search-plus\'" [tooltip]="\'Zoom In\'"\n            (click)="zoomIn()" *ngIf="zoomConfig"></gd-button>\n            <gd-button class="desktop-hide" [disabled]="formatDisabled" [icon]="\'search-minus\'" [tooltip]="\'Zoom Out\'"\n            (click)="zoomOut()" *ngIf="zoomConfig"></gd-button>\n          </div>\n        </gd-tab>\n        <gd-tab [tabTitle]="\'Signatures\'" [icon]="\'signature\'" [id]="\'2\'">\n          <div class="toolbar-panel">\n            <div *ngFor="let signatureType of signatureTypes">\n              <gd-top-tab [disabled]="!file" *ngIf="isVisible(signatureType.id)"\n                          [icon]="signatureType.icon" (activeTab)="activeTab($event)"\n                          [id]="signatureType.id" [tooltip]="signatureType.name"\n                          [elementPosition]="isFirstTab(signatureType)">\n              </gd-top-tab>\n            </div>\n          </div>\n        </gd-tab>\n        <gd-tab [tabTitle]="\'\'" [icon]="\'qrcode\'" [id]="\'3\'" *ngIf="!isDesktop && codesConfig()">\n          <div class="toolbar-panel">\n            <div *ngFor="let signatureType of signatureTypeCodes">\n              <gd-top-tab [disabled]="!file" *ngIf="getSignatureTypeConfig(signatureType.id)"\n                          [icon]="signatureType.icon" (activeTab)="activeTab($event)"\n                          [id]="signatureType.id" [tooltip]="signatureType.name"\n                          [elementPosition]="isFirstTab(signatureType)">\n              </gd-top-tab>\n            </div>\n          </div>\n        </gd-tab>\n      </gd-tabs>\n    </gd-tabbed-toolbars>\n    <gd-signature-left-panel *ngIf="activeSignatureTab" [rewrite]="rewriteConfig" (newSignatureEvent)="newSign($event)"\n                             [isPdf]="isPdf()" [id]="activeSignatureTab">\n    </gd-signature-left-panel>\n    <div class="doc-panel" *ngIf="file">\n      <gd-document (drop)="dropSignature($event)" (dragover)="dragOver($event)" class="gd-document" *ngIf="file"\n                   [file]="file" [mode]="htmlModeConfig" gdScrollable\n                   [preloadPageCount]="preloadPageCountConfig" gdRenderPrint [htmlMode]="htmlModeConfig" (onpan)="onPan($event)"></gd-document>\n    </div>\n\n    <gd-init-state [icon]="\'signature\'" [text]="\'Drop file here to upload\'" *ngIf="!file"\n                   (fileDropped)="fileDropped($event)">\n      Click\n      <fa-icon [icon]="[\'fas\',\'folder-open\']"></fa-icon>\n      to open file<br>\n      Or drop file here\n    </gd-init-state>\n    <gd-hand-modal></gd-hand-modal>\n    <gd-stamp-modal></gd-stamp-modal>\n  </div>\n  <gd-browse-files-modal (urlForUpload)="upload($event)" [files]="files" (selectedDirectory)="selectDir($event)"\n                         (selectedFileGuid)="selectFile($event, null, browseFilesModal)"\n                         [uploadConfig]="uploadConfig"></gd-browse-files-modal>\n\n  <gd-error-modal></gd-error-modal>\n  <gd-password-required></gd-password-required>\n  <gd-success-modal></gd-success-modal>\n</div>\n',styles:["@import url(https://fonts.googleapis.com/css?family=Open+Sans&display=swap);:host *{font-family:'Open Sans',Arial,Helvetica,sans-serif}::ng-deep .page{position:relative}::ng-deep .gd-page-image{width:unset;height:unset}::ng-deep .top-panel{align-content:flex-start}.wrapper{-webkit-box-align:stretch;align-items:stretch;height:100%;width:100%;position:fixed;top:0;bottom:0;left:0;right:0}.doc-panel{display:-webkit-box;display:flex;height:inherit}.gd-document{width:100%;height:calc(100% - 90px)}.toolbar-panel{width:100%;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.signature-wrapper ::ng-deep .button{color:#3e4e5a!important}.signature-wrapper ::ng-deep .button .text{padding:0!important}.desktop-hide{display:none}@media (max-width:1037px){::ng-deep .logo ::ng-deep .icon{font-size:24px!important}::ng-deep .top-panel{height:120px!important}.desktop-hide{display:block}.gd-document{height:calc(100% - 120px)}}"]}]}],t.ctorParameters=function(){return[{type:b},{type:n.ModalService},{type:y},{type:n.UploadFilesService},{type:n.NavigateService},{type:n.ZoomService},{type:n.PagePreloadService},{type:n.RenderPrintService},{type:n.PasswordService},{type:n.WindowService},{type:M},{type:n.TopTabActivatorService},{type:n.HostingDynamicComponentService},{type:n.AddDynamicComponentService},{type:L},{type:n.OnCloseService},{type:z},{type:j},{type:n.ExceptionMessageService},{type:F},{type:n.TabActivatorService},{type:R}]},t}();var W=function(){function t(t,i,n,o,r){this._navigateService=t,this._selectSignatureService=i,this._dragSignatureService=n,this._datePipe=o,this._signaturesHolderService=r,this.removeSignatureEvent=new e.EventEmitter,this.showDigitalInputs=!1,this.digitalProps=new _,this.digitalProps.date=this._datePipe.transform(new Date,"dd-MM-yyyy")}return t.prototype.ngOnInit=function(){},t.prototype.getImage=function(t){return"data:image/png;base64,"+t},t.prototype.deleteSign=function(t){this.removeSignatureEvent.emit(t)},t.prototype.isDigital=function(){return x.DIGITAL.id===this.signatureType},t.prototype.selectSignature=function(t){this._selectSignatureService.select(t)},t.prototype.getSign=function(t){var e=new C;return e.type=this.signatureType,e.guid=t,e.position=new S(0,0),e.pageNumber=this._navigateService.currentPage,e},t.prototype.select=function(t){if(this.signatureType===x.DIGITAL.id)this.showDigitalInputs=this.digitalId!==t,this.digitalId=this.digitalId===t?null:t;else{var e=this.getSign(t);this.selectSignature(e)}},t.prototype.dragOver=function(t){t.preventDefault(),t.stopPropagation()},t.prototype.dragLeave=function(t,e){this._dragSignatureService.sign=this.getSign(e)},t.prototype.selectDigital=function(t){if(this.isActive(t)){var e=this.getSign(t);e.digitalProps=this.digitalProps,this.selectSignature(e)}},t.prototype.parseDate=function(t){return this._datePipe.transform(t,"dd-MM-yyyy")},t.prototype.isActive=function(t){return!this._signaturesHolderService.has(t)},t.prototype.dragStart=function(t){t.dataTransfer.setData("text","foo")},t.prototype.empty=function(){return!(this.loading||this.signatures&&0!==this.signatures.length)},t.prototype.ngOnChanges=function(t){this.showDigitalInputs&&(this.showDigitalInputs=this.signatureType===x.DIGITAL.id)},t.prototype.drop=function(t){t.preventDefault(),t.stopPropagation()},t.decorators=[{type:e.Component,args:[{selector:"gd-signature-list-panel",template:'<div class="gd-signature-list-wrapper">\n  <div class="gd-signature-list-scroll" *ngIf="signatures">\n    <div class="gd-signature-list" *ngIf="signatures">\n      <div class="gd-signature" *ngFor="let signature of signatures">\n        <div class="gd-signature-item" [draggable]="isDigital() ? false : true"\n             (dragover)="dragOver($event)" (dragstart)="dragStart($event)"\n             (dragleave)="dragLeave($event, signature.guid)" (drop)="drop($event)">\n          <div class="gd-signature-thumbnail" *ngIf="isDigital()" (click)="select(signature.guid)">\n            <fa-icon [icon]="[\'fa\',\'fingerprint\']" [class]="\'ng-fa-icon icon\'"></fa-icon>\n          </div>\n          <div class="gd-signature-thumbnail" *ngIf="signature.image">\n            <img [ngClass]="\'gd-signature-thumbnail-\' + signatureType"\n                 [attr.src]="getImage(signature.image) | safeResourceHtml"\n                 alt="" [draggable]="false" (click)="select(signature.guid)">\n          </div>\n          <div class="gd-signature-title" [ngClass]="signatureType" (click)="select(signature.guid)">\n            <label class="gd-signature-name" [style.color]="signature.fontColor">\n              {{signature.text ? signature.text : signature.name}}</label>\n          </div>\n          <div class="gd-signature-trash-icon">\n            <fa-icon [icon]="[\'fas\',\'trash\']" [class]="\'ng-fa-icon icon\'"\n                     (click)="deleteSign(signature.guid)"></fa-icon>\n          </div>\n        </div>\n        <div class="gd-digital-inputs" *ngIf="showDigitalInputs && digitalId === signature.guid">\n          <div class="gd-digital-input-wrapper">\n            <fa-icon [icon]="[\'fas\',\'comment\']" [class]="\'ng-fa-icon icon\'"></fa-icon>\n            <input #reason (input)="digitalProps.reason = reason.value" type="text" placeholder="Reason">\n          </div>\n          <div class="gd-digital-input-wrapper" *ngIf="isPdf">\n            <fa-icon [icon]="[\'fas\',\'envelope\']" [class]="\'ng-fa-icon icon\'"></fa-icon>\n            <input #contact (input)="digitalProps.contact = contact.value" type="text" placeholder="Contact">\n          </div>\n          <div class="gd-digital-input-wrapper" *ngIf="isPdf">\n            <fa-icon [icon]="[\'fas\',\'map-marker-alt\']" [class]="\'ng-fa-icon icon\'"></fa-icon>\n            <input #address (input)="digitalProps.address = address.value" type="text" placeholder="Location">\n          </div>\n          <div class="gd-digital-input-wrapper">\n            <fa-icon [icon]="[\'fas\',\'key\']" [class]="\'ng-fa-icon icon\'"></fa-icon>\n            <input #password (input)="digitalProps.signaturePassword = password.value" type="password"\n                   placeholder="Password">\n          </div>\n          <div class="gd-digital-input-wrapper">\n            <fa-icon [icon]="[\'fas\',\'calendar\']" [class]="\'ng-fa-icon icon\'"></fa-icon>\n            <input type="date" #date (input)="digitalProps.date=parseDate(date.value)" placeholder="Date">\n          </div>\n          <div class="gd-sign-digital" [ngClass]="isActive(signature.guid) ? \'active\' : \'\'"\n               (click)="selectDigital(signature.guid)">\n            <fa-icon [icon]="[\'fas\',\'save\']"></fa-icon>\n            <span class="digital-apply">Apply</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="gd-signature-empty-list" *ngIf="empty()">\n    <fa-icon *ngIf="icon" [icon]="[\'fas\',icon]" [class]="\'ng-fa-icon icon\'"></fa-icon>\n    <span class="gd-empty-list-text">There is no entries yet</span>\n  </div>\n</div>\n',styles:[".gd-signature-list-wrapper{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1;overflow:auto;height:100%}.gd-signature-list-scroll{display:block;overflow-x:hidden;overflow-y:auto!important}.gd-signature-item{width:100%;cursor:pointer;position:relative;min-height:68px;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;background-color:rgba(255,255,255)}.gd-signature-item .icon{font-size:15px;color:#676767;cursor:pointer}.gd-signature-item .gd-signature-trash-icon{-webkit-box-flex:0;flex:0 0 70px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.gd-signature-item .gd-signature-name{max-width:130px;font-size:13px;color:rgba(0,0,0,.36);cursor:pointer;text-overflow:ellipsis;white-space:nowrap;display:block;overflow:hidden}.gd-signature-item .gd-signature-thumbnail{-webkit-box-flex:0;flex:0 0 70px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;width:auto}.gd-signature-item .gd-signature-thumbnail .icon{font-size:30px;padding:0;margin:0;opacity:.25}.gd-signature-item .gd-signature-title{-webkit-box-flex:1;flex:1;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;padding-left:7px}.gd-signature-item .gd-signature-thumbnail-hand,.gd-signature-item .gd-signature-thumbnail-image,.gd-signature-item .gd-signature-thumbnail-text{max-width:70px;height:41px}.gd-signature-item .gd-signature-thumbnail-image{min-width:41px;max-width:70px}.gd-signature-item .gd-signature-thumbnail-barCode,.gd-signature-item .gd-signature-thumbnail-qrCode{max-width:70px;height:44px}.gd-signature-item .gd-signature-thumbnail-stamp{max-width:70px;height:48px}.gd-signature-item .gd-signature-title.text{padding-left:16px}.gd-signature-list{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;width:inherit;background-color:#e7e7e7}.gd-signature{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;width:100%;background-color:rgba(255,255,255,.75);margin-bottom:2px}.gd-signature-empty-list{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;text-align:center;color:#acacac;-webkit-box-pack:center;justify-content:center;width:350px;height:250px}.gd-signature-empty-list .icon{font-size:60px}.gd-signature-empty-list i{font-size:60px;padding:87px 97px 0}.gd-empty-list-text{padding:18px 38px 0;font-size:12px}.gd-digital-input-wrapper{margin:9px 8px 7px;display:-webkit-box;display:flex;border:5px #ddd}.gd-sign-digital{height:27px;background-color:#969696;margin:9px 8px 7px;display:-webkit-box;display:flex;color:#fff;font-size:13px;box-shadow:0 0 3px #ddd;cursor:pointer;padding-top:5px;padding-left:10px}.digital-apply{padding-left:10px}.gd-sign-digital.active{background-color:#25c2d4}.gd-digital-inputs input{width:100%;height:27px;padding-left:28px}.gd-digital-inputs .icon{position:absolute;font-size:12px;margin:7px 0 7px 7px;color:#ccc!important}@media (max-width:1037px){.gd-signature-item .gd-signature-name{font-size:13px}.gd-signature-item .icon{font-size:15px}.gd-signature-thumbnail-hand,.gd-signature-thumbnail-image,.gd-signature-thumbnail-text{margin:0}.gd-signature-thumbnail-image{width:44px;height:44px}.gd-signature-thumbnail-digital .icon{font-size:30px!important}.gd-digital-inputs .icon{font-size:13px}}"]}]}],t.ctorParameters=function(){return[{type:n.NavigateService},{type:M},{type:L},{type:i.DatePipe},{type:F}]},t.propDecorators={signatures:[{type:e.Input}],icon:[{type:e.Input}],signatureType:[{type:e.Input}],isPdf:[{type:e.Input}],loading:[{type:e.Input}],removeSignatureEvent:[{type:e.Output}]},t}();var G=function(){function t(t,i){var n=this;this._signatureService=t,this._elementRef=i,this.closePanel=new e.EventEmitter,this.subject=new a.Subject,this.subject.pipe(r.debounceTime(500)).subscribe((function(t){n.saveCode(t,!0)}))}return t.prototype.saveCode=function(t,e){var i=this;t?this._signatureService.getCode(t,e,this.type).subscribe((function(t){i.encodedImage=t.encodedImage,e||i.closePanel.emit(!0)})):this.clean()},t.prototype.clean=function(){this.encodedImage=null},t.prototype.ngOnInit=function(){var t=this;this.clean(),setTimeout((function(){t._elementRef.nativeElement.querySelector("#text-input").focus()}),100)},t.prototype.addSign=function(t){this.saveCode(t,!1)},t.prototype.saveTemp=function(t){this.subject.next(t)},t.prototype.getData=function(){return"data:image/png;base64,"+this.encodedImage},t.decorators=[{type:e.Component,args:[{selector:"gd-new-bar-qr-code",template:'<div class="gd-qr-container">\n  <div class="gd-qr-preview-container">\n    <img class="gd-signature-thumbnail-image" [attr.src]="getData()" alt *ngIf="encodedImage">\n    <div class="gd-empty-code" *ngIf="!encodedImage">\n      <fa-icon [icon]="[\'fa\',icon]" [class]="\'ng-fa-icon icon\'"></fa-icon>\n    </div>\n  </div>\n  <div class="new-signature-input-group">\n    <input type="text" class="gd-qr-property" #text (keyup)="saveTemp(text.value)" (keyup.enter)="addSign(text.value)"\n           placeholder="{{name}}" id="text-input"/>\n    <div class="gd-add-optical" [ngClass]="text.value ? \'active\' : \'inactive\'" (click)="addSign(text.value)">\n      <fa-icon [icon]="[\'fa\',\'check\']" [class]="\'ng-fa-icon icon\'"></fa-icon>\n    </div>\n  </div>\n</div>\n',styles:['.gd-sign-digital.active{background-color:#3787f5}.gd-sign-digital{height:27px;background-color:#969696;margin:9px 8px 7px;text-align:center;color:#fff;font-size:13px;box-shadow:0 0 3px #ddd;cursor:pointer;padding-top:5px}.gd-qr-container{font-family:"Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif;background-color:#e7e7e7}.gd-qr-container input:focus{border:2px solid #00c4d7;-webkit-transition:border-color .3s linear;transition:border-color .3s linear}.gd-qr-preview-container{text-align:center;background-color:#fff;margin-bottom:1px;height:350px}.gd-qr-preview-container .gd-empty-code{color:#ccc;font-size:60px;width:350px;height:350px;-webkit-box-pack:center;justify-content:center;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.gd-qr-preview-container .gd-signature-thumbnail-image{min-width:41px;width:100%;height:100%;margin:0}.new-signature-input-group{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;height:70px;background-color:#fff;-webkit-box-pack:center;justify-content:center}.gd-qr-property{font-size:12px;width:80%;border:2px solid #ddd;padding:5px;outline:0;color:#3a4e5b}.gd-add-optical{width:32px;height:29px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;background-color:#3787f5;cursor:pointer}.gd-add-optical .icon{color:#fff;line-height:28px}.gd-add-optical.active{background-color:#25c2d4}.gd-add-optical.inactive{background-color:#646464}.gd-add-optical:hover{box-shadow:transparent 0 0 3px}@media (max-width:1037px){.gd-qr-container{margin:0 13px 0 12px}}']}]}],t.ctorParameters=function(){return[{type:b},{type:e.ElementRef}]},t.propDecorators={type:[{type:e.Input}],icon:[{type:e.Input}],name:[{type:e.Input}],closePanel:[{type:e.Output}]},t}();var q=function(){function t(t){this._signatureService=t,this.closePanel=new e.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.handleFileInput=function(t){this.addFiles(t)},t.prototype.addFiles=function(t){var e=this,i=new w(t,this.signatureType);this._signatureService.uploadSignature(i,this.rewrite).subscribe((function(){e.closePanel.emit(!0)}))},t.prototype.uploadFiles=function(t){this.addFiles(t)},t.decorators=[{type:e.Component,args:[{selector:"gd-upload-signature",template:'<div class="gd-upload-signature" gdDndSignature (files)="uploadFiles($event)">\n  <div class="gd-upload-inputs">\n    <input type="file" (change)="handleFileInput($event.target.files)"/>\n    <fa-icon [icon]="[\'fas\',\'folder-open\']" [class]="\'ng-fa-icon icon\'"></fa-icon>\n    <div class="gd-upload-title">\n      <p class="text">Click\n        <fa-icon [icon]="[\'fas\',\'folder-open\']"></fa-icon>\n        to open file\n      </p>\n      <p class="text">Or drop file here</p>\n    </div>\n  </div>\n</div>\n',styles:[".gd-upload-inputs{height:350px;text-align:center;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;align-content:center;background-color:#fff}.gd-upload-inputs .icon{font-size:52px;color:#959da5}.gd-upload-inputs input{opacity:0;position:absolute;cursor:pointer;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:203px}.gd-upload-title{color:#bababa;font-size:13px;margin:10px 0 0}.text{font-size:12px;text-align:center}@media (max-width:1037px){.gd-upload-inputs{width:-webkit-fill-available}.gd-upload-inputs input{width:-webkit-fill-available;height:201px}}"]}]}],t.ctorParameters=function(){return[{type:b}]},t.propDecorators={signatureType:[{type:e.Input}],rewrite:[{type:e.Input}],closePanel:[{type:e.Output}]},t}();var B=function(t){function i(i){var n=t.call(this,i)||this;return n.files=new e.EventEmitter,n}return f(i,t),i.prototype.onDrop=function(t){t.preventDefault(),t.stopPropagation();var e=t.dataTransfer.files;e.length>0&&(this.active=!1,this.files.emit(e))},i.decorators=[{type:e.Directive,args:[{selector:"[gdDndSignature]"}]}],i.ctorParameters=function(){return[{type:n.UploadFilesService}]},i.propDecorators={files:[{type:e.Output}],onDrop:[{type:e.HostListener,args:["drop",["$event"]]}]},i}(n.DndDirective);var Q=function(){function t(t){var e=this;this._windowService=t,this._isDragged=!1,this.isDesktop=t.isDesktop(),t.onResize.subscribe((function(i){e.isDesktop=t.isDesktop()}))}return t.prototype.ngOnInit=function(){this._ctx=this.canvas.nativeElement.getContext("2d")},t.prototype.onMouseDown=function(t){var e;if(this.isDesktop)e={x:t.offsetX,y:t.offsetY};else{var i=window.event;e={x:i.offsetX,y:i.offsetY}}t.preventDefault(),this._isDragged=!0,this._ctx.beginPath(),this._ctx.moveTo(e.x,e.y)},t.prototype.onMouseUp=function(t){t.preventDefault(),this._isDragged=!1},t.prototype.onMouseMove=function(t){var e;if(this.isDesktop)e={x:t.offsetX,y:t.offsetY};else{var i=window.event;e={x:i.offsetX,y:i.offsetY}}t.preventDefault(),this._isDragged&&(this._ctx.lineTo(e.x,e.y),this._ctx.stroke())},t.prototype.setColor=function(t){this._ctx&&(this._ctx.strokeStyle=t)},t.prototype.getImage=function(){return this.canvas.nativeElement.toDataURL("image/png")},t.prototype.clear=function(){this.canvas.nativeElement.width=this.canvas.nativeElement.width},t.prototype.ngOnChanges=function(t){this.setColor(this.color)},t.prototype.getWidth=function(){return this.isDesktop?1079:this._windowService.getWidth()},t.prototype.getHeight=function(){return this.isDesktop?540:this._windowService.getHeight()},t.decorators=[{type:e.Component,args:[{selector:"gd-canvas",template:'<div class="bc-paint-container">\n  <div class="bc-paint-canvas-container">\n    <canvas #canvas (mousedown)="onMouseDown($event)" (mousemove)="onMouseMove($event)"\n            (mouseup)="onMouseUp($event)" (mouseleave)="onMouseUp($event)" [width]="getWidth()"\n            [height]="getHeight()" (panstart)="onMouseDown($event)" (panmove)="onMouseMove($event)"\n            (panend)="onMouseUp($event)" (touchstart)="onMouseDown($event)"\n            (touchmove)="onMouseMove($event)" (touchend)="onMouseUp($event)"></canvas>\n  </div>\n</div>\n',styles:[".bc-paint-canvas-container,.bc-paint-container{width:100%;height:100%}@media (max-width:1037px){.bc-paint-canvas-container>canvas{width:100%;height:100%;border:0}}"]}]}],t.ctorParameters=function(){return[{type:n.WindowService}]},t.propDecorators={color:[{type:e.Input}],canvas:[{type:e.ViewChild,args:["canvas",{static:!0}]}]},t}();var X=function(){function t(){this._observer=new a.Subject,this._activeChange=this._observer.asObservable()}return Object.defineProperty(t.prototype,"activeChange",{get:function(){return this._activeChange},enumerable:!0,configurable:!0}),t.prototype.changeActive=function(t){this._observer.next(t)},t}();var Y=function(){function t(){this._observer=new a.Subject,this._removeCanvas=this._observer.asObservable()}return Object.defineProperty(t.prototype,"removeCanvas",{get:function(){return this._removeCanvas},enumerable:!0,configurable:!0}),t.prototype.remove=function(t){this._observer.next(t)},t}();var J=function(){function t(t,e,i,n){var o=this;this._activeCanvasService=t,this._removeCanvas=e,this._onCloseService=i,this._windowService=n,this.colorPickerBG=!1,this.colorPickerC=!1,this.borderWidth=E.widthOptions(),this._onCloseService.onClose.subscribe((function(t){o.colorPickerC=!1,o.colorPickerBG=!1})),this._activeCanvasService.activeChange.subscribe((function(t){o.active=o.id===t})),this.isMobile=n.isMobile(),n.onResize.subscribe((function(t){o.isMobile=n.isMobile()}))}return Object.defineProperty(t.prototype,"ctx",{get:function(){return this._ctx},enumerable:!0,configurable:!0}),t.prototype.activation=function(){this._activeCanvasService.changeActive(this.id)},t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){this._ctx=this.canvas.nativeElement.getContext("2d"),this.redrawCanvas()},t.prototype.redrawCanvas=function(){this.refreshRadius(),this.drawCircle(),this.props.text&&(this.theFirst?(this._ctx.fillStyle=this.props.textColor,this._ctx.font=this.fontDecoration()+" "+this.props.fontSize+"px "+this.props.font,this._ctx.textAlign="center",this._ctx.fillText(this.props.text,this.props.width/2,this.props.height/2+this.props.fontSize/2),this.props.underline&&this.makeTextUnderline()):this.drawTextCircle())},t.prototype.fontDecoration=function(){return(this.props.bold?"bold":"")+" "+(this.props.italic?"italic":"")},t.prototype.makeTextUnderline=function(){var t=this.props.width/2,e=this.props.height/2,i=this._ctx.measureText(this.props.text).width,n=e+this.props.fontSize,o=n,r=this.props.fontSize/15;r<1&&(r=1),this._ctx.beginPath();var a=t-i/2,s=t+i/2;this._ctx.strokeStyle=this.props.textColor,this._ctx.lineWidth=r,this._ctx.moveTo(a,n),this._ctx.lineTo(s,o),this._ctx.strokeStyle="blue",this._ctx.stroke()},t.prototype.drawCircle=function(){var t=""===this.props.backgroundColor?"rgb(255, 255, 255)":this.props.backgroundColor,e=this.props.width/2,i=this.props.height/2;this._ctx.beginPath(),this._ctx.arc(e,i,this.props.radius,0,2*Math.PI),this._ctx.lineWidth=this.props.strokeWidth,this._ctx.strokeStyle=this.props.strokeColor,this._ctx.stroke(),this._ctx.fillStyle=t,this._ctx.fill(),this._ctx.closePath()},t.prototype.drawTextCircle=function(){var t=this.props.width/2,e=this.props.height/2;this._ctx.save(),this._ctx.translate(t,e),this._ctx.rotate(Math.PI/2),this._ctx.fillStyle=this.props.textColor,this._ctx.font=this.fontDecoration()+" "+this.props.fontSize+"px "+this.props.font;for(var i=this.props.textExpansion+this.props.fontSize/100,n=this.props.radius-this.props.fontSize/2,o=0;o<this.props.textRepeat;o++)for(var r=0;r<this.props.text.length;r++)this._ctx.save(),this._ctx.rotate(r*i+i*this.props.text.length*o),this._ctx.fillText(this.props.text[r],0,-n),this._ctx.restore();this._ctx.restore()},t.prototype.refreshRadius=function(){this.props.strokeWidth>1?this.props.radius=this.props.width/2-this.props.strokeWidth/2-1:this.props.radius=this.props.width/2-1},t.prototype.toggleColorPicker=function(t,e){t.preventDefault(),t.stopPropagation(),e?this.colorPickerBG=!this.colorPickerBG:this.colorPickerC=!this.colorPickerC},t.prototype.selectColor=function(t,e){t?(this.props.backgroundColor=e,this.colorPickerBG=!1):(this.props.strokeColor=e,this.colorPickerC=!1),this.redrawCanvas()},t.prototype.selectBorderWidth=function(t){this.props.strokeWidth=t.value,this.redrawCanvas()},t.prototype.deleteCanvas=function(){this._removeCanvas.remove(this.id),this.redrawCanvas()},t.prototype.getLeft=function(){return(this.width-this.props.width)/2},t.prototype.getTop=function(){return(this.height-(this.isMobile?62:0)-this.props.height)/2-this.calcDiff()},t.prototype.calcDiff=function(){return this.active&&!this.isMobile?37:0},t.prototype.resize=function(t){this.props.width+=t,this.props.height+=t},t.prototype.closeColorPickerBG=function(t){this.colorPickerBG=!t},t.prototype.closeColorPickerC=function(t){this.colorPickerC=!t},t.prototype.getTranslation=function(){this.refreshRadius();return this.props.radius<74?74-this.props.radius:this.props.radius-74},t.prototype.inactive=function(t){this._activeCanvasService.changeActive(null)},t.decorators=[{type:e.Component,args:[{selector:"gd-stamp-canvas",template:'<div [clickOutsideEnabled]="active" [clickOutsideEvents]="\'mousedown\'"\n     (clickOutside)="inactive($event)">\n  <div class="gd-stamp-box" [style.left.px]="getLeft()" [style.top.px]="getTop()" [style.z-index]="props.zIndex">\n    <div class="gd-context-menu" *ngIf="active"\n         [ngStyle]="isMobile ? null : {transform: \'translateX(\' + getTranslation() + \'px)\'}">\n      <gd-button name="button" class="first-element" [icon]="\'fill-drip\'" (click)="toggleColorPicker($event, true)">\n        <div class="bg-color-pic" [style.background-color]="props.backgroundColor"></div>\n      </gd-button>\n      <gd-color-picker [isOpen]="colorPickerBG" (closeOutside)="closeColorPickerBG($event)"\n                       [className]="\'palette\'"\n                       (selectedColor)="selectColor(true, $event)"></gd-color-picker>\n      <gd-select class="csg-border-width" [options]="borderWidth" (selected)="selectBorderWidth($event)"\n                 [showSelected]="{name: props.strokeWidth + \'px\', value: props.strokeWidth}"></gd-select>\n      <gd-button name="button" [icon]="\'square\'" [iconRegular]="true"\n                 (click)="toggleColorPicker($event, false)" class="color-for-shape">\n        <div class="bg-color-pic" [style.background-color]="props.strokeColor"></div>\n      </gd-button>\n      <gd-color-picker [isOpen]="colorPickerC" (closeOutside)="closeColorPickerC($event)"\n                       [className]="\'palette\'"\n                       (selectedColor)="selectColor(false, $event)"></gd-color-picker>\n      <gd-button name="button" class="stamp-trash" [icon]="\'trash\'" [iconSize]="\'sm\'" (click)="deleteCanvas()">\n      </gd-button>\n    </div>\n    <div class="csg-bounding-box" [ngClass]="active ? \'active\' : \'\'" [style.width.px]="props.width"\n         [style.height.px]="props.height">\n      <canvas #canvas (click)="activation()" class="csg-preview" [width]="props.width" [height]="props.height"></canvas>\n      <gd-resizing [init]="false" [id]="999" (offsetX)="resize($event)" [se]="true"\n                   (release)="redrawCanvas()" *ngIf="active"></gd-resizing>\n    </div>\n  </div>\n</div>\n',styles:[".gd-context-menu{display:-webkit-box;display:flex;height:37px;top:-40px;padding:0;background-color:#fff;cursor:default;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;box-shadow:rgba(0,0,0,.52) 0 0 5px}.gd-context-menu .icon{font-size:14px;cursor:pointer;color:#3e4e5a!important}.gd-context-menu ::ng-deep .dropdown-menu{top:-120px!important;height:120px;overflow-y:auto}.gd-context-menu ::ng-deep .icon-button{margin:0!important}.gd-stamp-box{position:absolute}.palette{position:absolute;top:-190px}.csg-preview{width:100%;height:100%}.csg-bounding-box{position:absolute;background-color:unset!important}.csg-bounding-box.active{border:1px solid #679ffa}.csg-border-width{width:37px!important;height:37px!important;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.bg-color-pic{border-radius:100%;border:1px solid #ccc;position:absolute;height:8px;width:8px;right:6px;bottom:6px}::ng-deep .select{min-width:unset!important}::ng-deep .selected-value{font-size:12px!important}@media (max-width:1037px){.gd-context-menu{position:fixed;bottom:0;left:0;top:unset;right:0;width:100%;height:60px;-webkit-box-align:center;align-items:center;padding:0;margin:0;background-color:#fff;border-top:2px solid #707070}.gd-context-menu .color-for-shape{-webkit-box-flex:1;flex:1;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.gd-context-menu .stamp-trash{-webkit-box-flex:0;flex:0 0 37px;margin-right:8px}.gd-context-menu ::ng-deep .button{margin:3px!important}.gd-context-menu ::ng-deep .select{margin:3px!important}.gd-context-menu .first-element{margin-left:8px}.csg-border-width .select{width:21px}}"]}]}],t.ctorParameters=function(){return[{type:X},{type:Y},{type:n.OnCloseService},{type:n.WindowService}]},t.propDecorators={id:[{type:e.Input}],theFirst:[{type:e.Input}],active:[{type:e.Input}],props:[{type:e.Input}],width:[{type:e.Input}],height:[{type:e.Input}],canvas:[{type:e.ViewChild,args:["canvas",{static:!0}]}]},t}();var V=function(t){function e(){return t.call(this)||this}return f(e,t),e}(n.TabActivatorService),Z=function(){function t(t){var i=this;this._signatureService=t,this.newSignatureEvent=new e.EventEmitter,this.showNewCode=!1,this.showUpload=!1,this.loading=!1,t.getRefreshSignatures.subscribe((function(){i.getSignatures(i.id)}))}return t.prototype.getSignatures=function(t){var e=this;this.loading||(this.loading=!0,this._signatureService.getSignatures("",t).subscribe((function(t){e.signatures=t||[],e.loading=!1})))},t.prototype.ngOnInit=function(){this.init()},t.prototype.init=function(){this.signatures=[],this.getSignatures(this.id),this.showNewCode=!1,this.showUpload=!1},t.prototype.getTitleIcon=function(){return this.showUpload||this.showNewCode?"times":"plus"},t.prototype.getTitle=function(){if(!this.id)return"";var t=x.getSignatureType(this.id);return this.showUpload||this.showNewCode?t.title:t.name},t.prototype.getName=function(){return this.id?x.getSignatureType(this.id).name:""},t.prototype.removeSignature=function(t,e){var i=this;this._signatureService.removeSignatures(t,e).subscribe((function(){return i.getSignatures(e)}))},t.prototype.closeUploadPanel=function(t){this.showUpload=!t,this.getSignatures(this.id)},t.prototype.closeCodePanel=function(t){this.showNewCode=!t,this.getSignatures(this.id)},t.prototype.getCodeName=function(){return this.id?x.QR_CODE.id===this.id?"Qr Code":x.BAR_CODE.id===this.id?"Bar Code":"":""},t.prototype.icon=function(){return this.id?x.getSignatureType(this.id).icon:""},t.prototype.ngOnChanges=function(t){this.init()},t.prototype.closeNewSignature=function(){x.DIGITAL.id===this.id||x.IMAGE.id===this.id?this.showUpload=!1:x.BAR_CODE.id!==this.id&&x.QR_CODE.id!==this.id||(this.showNewCode=!1)},t.prototype.openNewSignature=function(){this.showUpload||this.showNewCode||(x.DIGITAL.id===this.id||x.IMAGE.id===this.id?this.showUpload=!0:x.BAR_CODE.id===this.id||x.QR_CODE.id===this.id?this.showNewCode=!0:this.newSignatureEvent.emit(this.id))},t.decorators=[{type:e.Component,args:[{selector:"gd-signature-left-panel",template:'<gd-left-side-bar [showSpinner]="loading">\n  <div class="tab-content">\n    <div class="gd-signature-context-panel">\n      <div class="gd-signature-context-pane-wrapper">\n        <div class="signature-title-block"> \x3c!--for safari--\x3e\n          <div class="gd-signature-list-title" *ngIf="showNewCode || showUpload">\n            <div class="gd-signature-context-panel-title">{{getTitle()}}</div>\n            <div class="gd-signature-title-icon">\n              <fa-icon [icon]="[\'fa\',\'times\']" [class]="\'ng-fa-icon icon\'" (click)="closeNewSignature()"></fa-icon>\n            </div>\n          </div>\n        </div>\n        <gd-upload-signature (closePanel)="closeUploadPanel($event)" [rewrite]="rewrite" [signatureType]="id"\n                             *ngIf="showUpload"></gd-upload-signature>\n        <gd-new-bar-qr-code (closePanel)="closeCodePanel($event)" [type]="id" [icon]="icon()" [name]="getCodeName()"\n                            *ngIf="showNewCode"></gd-new-bar-qr-code>\n        <div class="signature-title-block"> \x3c!--for safari--\x3e\n          <div class="gd-signature-list-title">\n            <div class="gd-signature-context-panel-title">{{getName()}}</div>\n            <div class="gd-signature-title-icon">\n              <fa-icon [icon]="[\'fa\',\'plus\']" [class]="\'ng-fa-icon icon\'"\n                       [ngClass]="showNewCode || showUpload ? \'disabled\' : \'\'"\n                       (click)="openNewSignature()"></fa-icon>\n            </div>\n          </div>\n        </div>\n        <gd-signature-list-panel class="gd-signatures-scroll" [icon]="icon()" [signatureType]="id"\n                                 [signatures]="signatures"\n                                 (removeSignatureEvent)="removeSignature($event, id)"\n                                 [isPdf]="isPdf" [loading]="loading"></gd-signature-list-panel>\n      </div>\n    </div>\n  </div>\n</gd-left-side-bar>\n',styles:["::ng-deep .left-panel{width:350px;height:calc(100% - 90px)}::ng-deep .gd-left-bar-fade{width:350px!important}.gd-signatures-scroll{height:calc(100% - 60px)}.tab-content{height:calc(100% - 90px);line-height:unset;position:absolute;background-color:#fff}.gd-signature-context-panel{background-color:#f3f3f3;width:350px;height:100%;position:absolute}.gd-signature-context-panel-title,.gd-signature-context-upload-title{color:#aaa;font-size:12px;font-family:Helvetica;font-weight:700;margin:5px 12px}.signature-title-block{display:block}.gd-signature-list-title{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;height:70px}.gd-signature-list-title .gd-signature-title-icon{-webkit-box-flex:0;flex:0 0 70px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.gd-signature-list-title .gd-signature-title-icon .icon{color:#707070;cursor:pointer;font-size:12px}.gd-signature-list-title .gd-signature-title-icon .icon.disabled{color:#959da5}.gd-signature-list-title .gd-signature-context-panel-title{-webkit-box-flex:1;flex:1;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.gd-signature-context-pane-wrapper{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:inherit;overflow:auto}@media (max-width:1037px){.tab-content{width:100%;height:calc(100% - 120px)!important}::ng-deep .left-panel{width:100%!important;overflow:auto!important;height:calc(100% - 120px)}.gd-signature-context-panel{left:0;right:0;width:auto}.gd-signature-context-panel-title{font-size:12px;line-height:18px;margin:16px 0 14px 12px}.gd-signature-context-panel-title,.gd-signature-context-upload-title{width:unset}}"]}]}],t.ctorParameters=function(){return[{type:b}]},t.propDecorators={rewrite:[{type:e.Input}],isPdf:[{type:e.Input}],id:[{type:e.Input}],newSignatureEvent:[{type:e.Output}]},t}();var K=function(){function t(t,e,i){this._signatureService=t,this._tabActivationService=e,this._modalService=i,this.defaultColor="#000000",this.selectedColor=this.defaultColor,this.colorPickerShow=!1}return t.prototype.ngOnInit=function(){},t.prototype.selectColor=function(t){this.selectedColor=t,this.colorPickerShow=!1},t.prototype.saveSign=function(t){var e=this,i=t.getImage();this._signatureService.saveImage(i).subscribe((function(){e._tabActivationService.changeActiveTab(x.HAND.id),e._signatureService.refreshSignatures()})),this.clear(t),this.close()},t.prototype.close=function(){this._modalService.close(n.CommonModals.DrawHandSignature)},t.prototype.toggleColorPicker=function(t){t.preventDefault(),t.stopPropagation(),this.colorPickerShow=!this.colorPickerShow},t.prototype.closePicker=function(t){this.colorPickerShow=!t},t.prototype.onCloseOpen=function(t,e){this.clear(t)},t.prototype.clear=function(t){this.selectedColor=this.defaultColor,t.clear()},t.decorators=[{type:e.Component,args:[{selector:"gd-hand-modal",template:'<gd-modal [id]="\'gd-draw-hand-signature\'" [title]="\'Draw signature\'" (visible)="onCloseOpen(canvasComponent, $event)">\n  <div class="paint-body">\n    <div class="bc-paint-header">\n      <div class="bc-paint-palette">\n        <gd-button name="button" [icon]="\'fill\'" [tooltip]="\'Pencil color\'"\n                   (click)="toggleColorPicker($event)">\n          <div class="bg-color-pic" [style.background-color]="selectedColor"></div>\n        </gd-button>\n        <gd-color-picker [isOpen]="colorPickerShow" (closeOutside)="closePicker($event)"\n                         [className]="\'palette\'"\n                         (selectedColor)="selectColor($event)"></gd-color-picker>\n      </div>\n      <div class="bc-paint-export" (click)="saveSign(canvasComponent)">\n        <fa-icon [icon]="[\'fa\',\'save\']" [class]="\'ng-fa-icon icon\'"></fa-icon>\n        <span class="save-button">Save</span>\n      </div>\n    </div>\n    <div class="gd-draw-image">\n      <gd-canvas #canvasComponent [color]="selectedColor"></gd-canvas>\n    </div>\n  </div>\n</gd-modal>\n',styles:[".paint-body{width:1036px;height:561px}.paint-body ::ng-deep .button{font-size:unset!important;color:#3e4e5a!important}.paint-body ::ng-deep .button ::ng-deep .text{padding-left:0!important}.gd-draw-image{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAhCAYAAAC4JqlRAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA4UlEQVR4nO2WbQuDMAyE+///q0WhKiiacYFK7BeXK2OMJXC2SF8er2kwiTPO81St6yo5ZxmGQdsnYZwdi/6yLJICIAACIAAC4KcA6uYMgN34BmAX9QgA9atYuQGO47j6mMw4YDXPsyQ8PCqlaAsAuNAjdYC1DyDeY7MOQuoAY10L0CboO0KoAywA6NsFn26QBaUB6hFYAO8VrhEAAfC/APQ1tJXQC9CCXABsKQZAW1qpStgDwG7+kVL8dQBPAnYDQN4cwFgrvFOAfd/Fq23b9IdiHEeZpokWAF41ugKO5u7gN6EQAAAFZL5NAAAAAElFTkSuQmCC)!important;position:absolute;padding:0!important;background-color:#fff;overflow:hidden;overflow-y:auto;width:inherit}.bc-paint-header{height:60px;width:100%;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.bg-color-pic{border-radius:100%;border:1px solid #ccc;position:absolute;height:8px;width:8px;right:6px;bottom:6px}::ng-deep .bcPicker-palette{position:absolute}.bc-paint-export{background-color:#25c2d4;margin-right:10px;width:68px;height:37px;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;color:#fff;-webkit-box-align:center;align-items:center;cursor:pointer}.bc-paint-export .icon{display:-webkit-box;display:flex;text-align:center;-webkit-box-pack:center;justify-content:center;-webkit-box-flex:0;flex:0 0 27px}.bc-paint-export .save-button{font-size:10px;display:-webkit-box;display:flex;text-align:center;-webkit-box-pack:center;justify-content:center;-webkit-box-flex:0;flex:0 0 40px}@media (max-width:1037px){.paint-body{width:inherit;height:inherit}}"]}]}],t.ctorParameters=function(){return[{type:b},{type:V},{type:n.ModalService}]},t}();var tt=s,et=function(){function t(t,e,i,o,r,a,s){var p=this;this._addDynamicComponentService=t,this._activeCanvasService=e,this._windowService=i,this._removeCanvas=o,this._signatureService=r,this._tabActivationService=a,this._modalService=s,this.stampCircles=new Map,this.textString="",this.showText=!1,this.sizeMagnifier=40,this.textProps=n.Formatting.default(),this._removeCanvas.removeCanvas.subscribe((function(t){p.stampCircles.get(t).destroy(),p.stampCircles.delete(t)})),this.isMobile=i.isMobile(),i.onResize.subscribe((function(t){p.isMobile=i.isMobile()})),this._activeCanvasService.activeChange.subscribe((function(t){p.activeId=t}))}return t.prototype.ngOnInit=function(){},t.prototype.saveSign=function(){var t=this,e=this.stampCircles.get(this.stampCircles.size).instance,i=e.props,n=e.ctx,o=[];o.push(i);for(var r=this.stampCircles.size-1;r>0;r--){var a=this.stampCircles.get(r).instance,s=a.canvas.nativeElement,p=i.width-a.props.width;0!==p&&(p/=2),n.drawImage(s,p,p),o.push(a.props)}o.reverse();var c=e.canvas.nativeElement.toDataURL("image/png");this._signatureService.saveStamp(c,o).subscribe((function(){t._tabActivationService.changeActiveTab(x.STAMP.id),t._signatureService.refreshSignatures()})),this.close()},t.prototype.close=function(){this._modalService.close(n.CommonModals.DrawStampSignature)},t.prototype.onCloseOpen=function(t){if(t){this.textString="";var e=(new O).init(this.isMobile);e.id=this.stampCircles.size+1,this.addCircle(e,!0)}else this.clear()},t.prototype.clear=function(){var t,e;try{for(var i=v(this.stampCircles.values()),n=i.next();!n.done;n=i.next()){n.value.destroy()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.stampCircles=new Map,this.showText=!1},t.prototype.addCircle=function(t,e){if(this.dynamicDirective){var i=this.dynamicDirective.viewContainerRef,n=this._addDynamicComponentService.addDynamicComponent(i,J);n.instance.id=t.id,n.instance.theFirst=e,n.instance.active=!0,n.instance.props=t,n.instance.width=this.getWidth(),n.instance.height=this.getHeight(),this.stampCircles.set(t.id,n),this._activeCanvasService.changeActive(t.id)}},t.prototype.addCanvas=function(){var t=new O;t.init(this.isMobile),t.id=this.stampCircles.size+1;var e=this.stampCircles.get(this.stampCircles.size);if(e){var i=e.instance.props;t.width=i.width+this.sizeMagnifier,t.height=i.height+this.sizeMagnifier,t.zIndex=i.zIndex-1}this.addCircle(t,!1),this.showText=!1},t.prototype.ngOnDestroy=function(){this.clear()},t.prototype.addText=function(t){this.textString=t;var e=this.stampCircles.get(1);this.textString&&e&&(e.instance.props.text=t,e.instance.redrawCanvas(),this.showText=!1)},t.prototype.toggleText=function(){this.showText=!this.showText,this.showText&&this._activeCanvasService.changeActive(null),this.showText&&setTimeout((function(){var t=tt("#text-input");t&&t.focus()}),100)},t.prototype.toggleUnderline=function(t){this.textProps.underline=t;var e=this.stampCircles.get(1);e&&(e.instance.props.underline=t,e.instance.redrawCanvas())},t.prototype.toggleBold=function(t){this.textProps.bold=t;var e=this.stampCircles.get(1);e&&(e.instance.props.bold=t,e.instance.redrawCanvas())},t.prototype.toggleItalic=function(t){this.textProps.italic=t;var e=this.stampCircles.get(1);e&&(e.instance.props.italic=t,e.instance.redrawCanvas())},t.prototype.selectTextColor=function(t){this.textProps.color=t;var e=this.stampCircles.get(1);e&&(e.instance.props.textColor=t,e.instance.redrawCanvas())},t.prototype.selectFont=function(t){this.textProps.font=t;var e=this.stampCircles.get(1);e&&(e.instance.props.font=t,e.instance.redrawCanvas())},t.prototype.selectFontSize=function(t){this.textProps.fontSize=t;var e=this.stampCircles.get(1);e&&(e.instance.props.fontSize=t,e.instance.redrawCanvas())},t.prototype.getWidth=function(){return this.isMobile?this._windowService.getWidth():1036},t.prototype.getHeight=function(){return this.isMobile?this._windowService.getHeight():501},t.prototype.deleteText=function(){var t=this.stampCircles.get(1);t&&(t.instance.props.text="",t.instance.redrawCanvas(),this.showText=!1)},t.prototype.leaveText=function(t){this.showText=!1},t.prototype.getTextWidth=function(){var t=this.stampCircles.get(1);return t?2*t.instance.props.radius:100},t.decorators=[{type:e.Component,args:[{selector:"gd-stamp-modal",template:'<gd-modal [id]="\'gd-draw-stamp-signature\'" [title]="\'Compose stamp\'" (visible)="onCloseOpen($event)">\n  <div class="stamp-body">\n    <div class="stamp-header">\n      <div class="header-buttons">\n        <gd-button [icon]="\'circle\'" (click)="addCanvas()" [iconRegular]="true">\n          <fa-icon class="plus" [icon]="[\'fas\',\'plus\']"></fa-icon>\n        </gd-button>\n        <gd-button [icon]="\'font\'" (click)="toggleText()">\n          <fa-icon class="plus" [icon]="[\'fas\',\'plus\']"></fa-icon>\n        </gd-button>\n      </div>\n      <div class="stamp-export" (click)="saveSign()">\n        <fa-icon [icon]="[\'fa\',\'save\']" [class]="\'ng-fa-icon icon\'"></fa-icon>\n        <span class="save-button">Save</span>\n      </div>\n    </div>\n    <div class="gd-draw-stamp" [style.width.px]="getWidth()" [style.height.px]="getHeight()">\n      <div gdHostDynamic [ident]="999999"></div>\n      <div class="gd-draw-stamp-text" *ngIf="showText" [clickOutsideEnabled]="showText"\n           [clickOutsideEvents]="\'mousedown\'" (clickOutside)="text.value ? addText(text.value) : leaveText($event)">\n        <div class="gd-text-menu-context">\n          <gd-text-menu [blur]="true" [color]="textProps.color" [bold]="textProps.bold"\n                        [font]="textProps.font" [fontSize]="textProps.fontSize" [italic]="textProps.italic"\n                        [underline]="textProps.underline" (outBold)="toggleBold($event)"\n                        (outUnderline)="toggleUnderline($event)" (outItalic)="toggleItalic($event)"\n                        (outColor)="selectTextColor($event)" (outFont)="selectFont($event)"\n                        (outFontSize)="selectFontSize($event)" [decoration]="false">\n            <gd-button [icon]="\'trash\'" [class]="\'ng-fa-icon icon\'" [iconSize]="\'sm\'"\n                       (click)="deleteText()"></gd-button>\n          </gd-text-menu>\n        </div>\n        <input placeholder="Type your text" id="text-input"\n               #text (keyup.enter)="addText(text.value)"\n               [style.text-decoration]="textProps?.underline ? \'underline\' : \'unset\'"\n               [style.font-style]="textProps?.italic ? \'italic\' : \'unset\'"\n               [style.font-weight]="textProps?.bold ? \'bold\' : \'unset\'"\n               [style.color]="textProps?.color"\n               [style.font-family]="textProps.font"\n               [style.font-size.px]="textProps.fontSize"\n               [value]="textString" type="text"\n               [style.width.px]="getTextWidth()">\n      </div>\n    </div>\n  </div>\n</gd-modal>\n',styles:['.stamp-body{width:1036px;height:561px}.stamp-body ::ng-deep .button{font-size:unset!important;color:#3e4e5a!important}.stamp-body ::ng-deep .button ::ng-deep .text{padding-left:0!important}.stamp-body .csg-text-input{padding:5px;background-color:#e6e6e6;position:absolute;top:120px;left:0;width:calc(100% - 10px);-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;display:-webkit-box;display:flex;z-index:99999}.stamp-body .csg-text-input::after{content:" ";width:0;height:0;border-style:solid;border-width:0 4px 5px;border-color:transparent transparent #e6e6e6;position:absolute;top:-5px;right:110px}.stamp-body .csg-text-input input{height:20px;width:100%;padding:0;margin:0 10px 0 0}.stamp-body .csg-insert-text{width:27px;height:27px;background-color:#3787f5;margin:0}.stamp-body .csg-insert-text .icon{padding:5px;color:#fff}.stamp-header{height:60px;width:100%;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.header-buttons{display:-webkit-box;display:flex}.header-buttons .plus{font-size:8px;position:absolute;height:5px;width:5px;right:10px;bottom:10px}.stamp-export{background-color:#25c2d4;margin-right:10px;width:68px;height:37px;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;color:#fff;-webkit-box-align:center;align-items:center;cursor:pointer}.stamp-export .icon{display:-webkit-box;display:flex;text-align:center;-webkit-box-pack:center;justify-content:center;-webkit-box-flex:0;flex:0 0 27px}.stamp-export .save-button{font-size:10px;display:-webkit-box;display:flex;text-align:center;-webkit-box-pack:center;justify-content:center;-webkit-box-flex:0;flex:0 0 40px}.gd-draw-stamp{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAhCAYAAAC4JqlRAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA4UlEQVR4nO2WbQuDMAyE+///q0WhKiiacYFK7BeXK2OMJXC2SF8er2kwiTPO81St6yo5ZxmGQdsnYZwdi/6yLJICIAACIAAC4KcA6uYMgN34BmAX9QgA9atYuQGO47j6mMw4YDXPsyQ8PCqlaAsAuNAjdYC1DyDeY7MOQuoAY10L0CboO0KoAywA6NsFn26QBaUB6hFYAO8VrhEAAfC/APQ1tJXQC9CCXABsKQZAW1qpStgDwG7+kVL8dQBPAnYDQN4cwFgrvFOAfd/Fq23b9IdiHEeZpokWAF41ugKO5u7gN6EQAAAFZL5NAAAAAElFTkSuQmCC)!important;position:absolute;padding:0!important;background-color:#fff;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.gd-draw-stamp input{height:30px;outline:#679ffa solid 2px}.gd-draw-stamp .gd-draw-stamp-text{z-index:99999}.gd-draw-stamp .gd-text-menu-context{height:37px;top:180px;padding:0;background-color:#fff;cursor:default;position:absolute;box-shadow:rgba(0,0,0,.52) 0 0 5px}.gd-draw-stamp .gd-text-menu-context ::ng-deep .color-for-text{-webkit-box-flex:1;flex:1;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.gd-draw-stamp .gd-text-menu-context .stamp-trash{-webkit-box-flex:0;flex:0 0 37px;margin-right:8px}.gd-draw-stamp .gd-text-menu-context ::ng-deep .first-component ::ng-deep .dropdown-menu{left:8px}::ng-deep .select{color:#3e4e5a!important}::ng-deep gd-drop-down{z-index:999999!important}@media (max-width:1037px){.stamp-body{width:inherit;height:inherit}}']}]}],t.ctorParameters=function(){return[{type:n.AddDynamicComponentService},{type:X},{type:n.WindowService},{type:Y},{type:b},{type:V},{type:n.ModalService}]},t.propDecorators={dynamicDirective:[{type:e.ViewChild,args:[n.HostDynamicDirective,{static:!0}]}]},t}();function it(t){return function(){return t.load()}}function nt(t){return new n.LoadingMaskInterceptorService(t)}var ot=function(){function t(){d.library.add(g.fas,l.far)}return t.forRoot=function(e){return n.Api.DEFAULT_API_ENDPOINT=e,{ngModule:t}},t.decorators=[{type:e.NgModule,args:[{declarations:[U,W,G,q,B,$,Q,J,Z,K,et],exports:[U,W,G,q,B,$,Q,J,Z,K,et,n.CommonComponentsModule],imports:[i.CommonModule,n.CommonComponentsModule,o.HttpClientModule,c.FontAwesomeModule,u.ClickOutsideModule],providers:[b,n.ConfigService,y,M,L,z,j,X,Y,i.DatePipe,F,V,R,{provide:o.HTTP_INTERCEPTORS,useClass:n.ErrorInterceptorService,multi:!0},{provide:e.APP_INITIALIZER,useFactory:it,deps:[y],multi:!0},n.LoadingMaskService,{provide:o.HTTP_INTERCEPTORS,useFactory:nt,multi:!0,deps:[n.LoadingMaskService]}],entryComponents:[$,J]}]}],t.ctorParameters=function(){return[]},t}();t.ActiveCanvasService=X,t.ActiveSignatureService=j,t.CopySignatureService=R,t.DragSignatureService=L,t.RemoveSignatureService=z,t.SelectSignatureService=M,t.SignatureAppComponent=U,t.SignatureConfigService=y,t.SignatureListPanelComponent=W,t.SignatureModule=ot,t.SignatureService=b,t.SignatureTabActivatorService=V,t.SignaturesHolderService=F,t.initializeApp=it,t.setupLoadingInterceptor=nt,t.ɵa=G,t.ɵb=q,t.ɵc=B,t.ɵd=$,t.ɵe=Q,t.ɵf=J,t.ɵg=Y,t.ɵh=Z,t.ɵi=K,t.ɵj=et,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=groupdocs.examples.angular-signature.umd.min.js.map